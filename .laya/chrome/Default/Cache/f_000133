<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="gb2312" />
<meta name="applicable-device" content="pc">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta http-equiv="Cache-Control" content="no-transform" />
<title>MySQL查询随机数据的4种方法和性能对比_Mysql_脚本之家</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="keywords" content="MySQL,MySQL随机" />
<meta name="description" content="从MySQL随机选取数据也是我们最常用的一种发发，其最简单的办法就是使用”ORDER BY RAND()”,本文介绍了包括ORDER BY RAND()的4种获取随机数据的方法，并分析了各自的优缺点。" />
<link rel="alternate" media="only screen and(max-width: 640px)" href="http://m.jb51.net/article/48801.htm" />
<meta http-equiv="mobile-agent" content="format=html5; url=http://m.jb51.net/article/48801.htm" />
<meta http-equiv="mobile-agent" content="format=xhtml; url=http://m.jb51.net/article/48801.htm" />
<script type="text/javascript">
var tougao="junjie";var lmname="Mysql";
(function(){var reWriteUrl=function(url){if(url){var Splits=url.split("/"),siteName=window.location.pathname;if(typeof siteName!=="undefined"){return "http://m.jb51.net"+siteName}}};if(/Android|webOS|iPhone|iPad|Windows Phone|iPod|BlackBerry|SymbianOS|Nokia|Mobile/i.test(navigator.userAgent)){var url=window.location.href;var pathname=window.location.pathname;if(url.indexOf("?pc")<0){try{window.location.href=reWriteUrl(url)}catch(e){}}}})();
</script>
<link type="text/css" href="/skin/2016/base.css" rel="stylesheet" />
<link type="text/css" href="/skin/2016/common.css" rel="stylesheet" />
<script type="text/javascript" src="//apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
<script>
if (!window.jQuery) {
	var script = document.createElement('script');
	script.src = "/skin/js/jquery.js";
	document.body.appendChild(script);}
</script>
<script type=text/javascript src="/js/function.js"></script> 
</head>
<body>
<!--head Star -->
<div id="head">
  <div class="toolBar">
  <div class="main">
    <!--topNav Star -->
    <div class="topNav clearfix">
      <ul class="navList fl">
        <li>
          <div class="one"><a href="http://www.jb51.net" target="_blank">脚本之家</a></div>
        </li>
        <li>
          <div class="one"><a href="http://www.jb51.net/softs/" target="_blank">软件下载<i class="icon"></i></a></div>
          <div class="two">
<a href="/softs/android.html" target="_blank">android软件</a> <a href="/softs/mac.html" target="_blank">MAC软件</a> <a href="/qudong/" target="_blank">驱动下载</a> <a href="/fonts/" target="_blank">字体下载</a> <a href="/dll/" target="_blank">DLL下载</a> </div>
</li>
        <li>
          <div class="one"><a href="/codes/" target="_blank">源码下载<i class="icon"></i></a></div>
          <div class="two"> <a href="/codes/asp.html" target="_blank">asp源码</a> <a href="/codes/php.html" target="_blank">php源码</a> <a href="/codes/aspnet.html" target="_blank">asp.net源码</a> <a href="/codes/jsp.html" target="_blank">jsp源码</a> <a href="/codes/editor.html" target="_blank">网页编辑器</a> <a href="/codes/list123_1.html" target="_blank">数据库管理</a> <a href="/codes/list124_1.html" target="_blank">常用组件</a> <a href="/jiaoben/" target="_blank">脚本下载</a></div>
        </li>
        <li>
          <div class="one"><a href="http://tools.jb51.net" target="_blank">在线工具<i class="icon"></i></a></div>
          <div class="two"> <a href="/shouce/" target="_blank">在线手册</a> <a href="/tools/cssyasuo.shtml" target="_blank">CSS格式化</a> <a href="http://tools.jb51.net/code/js" target="_blank">JS格式化</a> <a href="/tools/html-js.htm" target="_blank">Html转化为Js</a> <a href="http://tools.jb51.net/regex/javascript" target="_blank">js正则表达式</a>
</div>
        </li>
        <li>
          <div class="one"><a href="/w3school/" target="_blank">网页教程基础</a></div>
        </li>
			<li>
          <div class="one"><a href="http://s.jb51.net" target="_blank">服务器常用软件</a></div>
        </li>
		<li>
          <div class="one"><a href="http://m.jb51.net" target="_blank">手机版</a></div>
          <div class="two"><img src="http://files.jb51.net/images/m.jb51.net.png" data-baiduimageplus-ignore /></div>     
        </li>
        <li class="watch">
          <div class="one"><a href="http://www.jb51.net/about.htm" target="_blank" rel="nofollow" ><i class="icon"></i>关注微信</a></div>
          <div class="two"><img src="http://files.jb51.net/images/weixin_200.gif" data-baiduimageplus-ignore /></div>
        </li>
      </ul>
      <div class="navUser mt5 fr" id="jb51_topbar" >

      </div>
    </div>
    <!--topNav End -->
  </div>
</div>

  <div class="main clearfix">
    <div class="mtb10 clearfix">
      <div class="logo"><a href="http://www.jb51.net/"><img src="http://www.jb51.net/images/logo.gif" title="脚本之家" alt="脚本之家" /></a></div>
      <div class="logom fl"><span id="logo_m" class="jbTestPos"></span></div>
      <div class="logor fr"><span id="logo_r" class="jbTestPos"></span></div>
    </div>
<!-- 导航-->
<DIV class="nav_top clearfix">
<UL>
<li><a href="http://www.jb51.net/web/">网页制作</a></li>
<li><a href="http://www.jb51.net/list/index_1.htm">网络编程</a></li>
<li><a href="http://www.jb51.net/list/index_96.htm">脚本专栏</a></li>
<li><a href="http://www.jb51.net/jiaoben/">脚本下载</a></li>
<li><a href="http://www.jb51.net/list/index_104.htm">数据库</a></li>
<li><a href="http://www.jb51.net/cms/">CMS教程</a></li>
<li><a href="http://www.jb51.net/books/">电子书籍</a></li>
<li><a href="http://www.jb51.net/pingmian/">平面设计</a></li>
<li><a href="http://www.jb51.net/media/">媒体动画</a></li>
<li><a href="http://www.jb51.net/os/">操作系统</a></li>
<li><a href="http://www.jb51.net/yunying/">网站运营</a></li>
<li><a href="http://www.jb51.net/hack/">网络安全</a></li>
<li class="last"><a href="http://www.jb51.net/shouce/">在线手册</a></li>

</UL>
</DIV>

<!--导航结束-->
<div class="subnav clearfix">
<ul><li><a href='/list/list_113_1.htm' title="MsSql">MsSql</a></li>
<li><a href='/list/list_112_1.htm' title="Mysql">Mysql</a></li>
<li><a href='/list/list_252_1.htm' title="mariadb">mariadb</a></li>
<li><a href='/list/list_154_1.htm' title="oracle">oracle</a></li>
<li><a href='/list/list_155_1.htm' title="DB2">DB2</a></li>
<li><a href='/list/list_236_1.htm' title="mssql2008">mssql2008</a></li>
<li><a href='/list/list_210_1.htm' title="mssql2005">mssql2005</a></li>
<li><a href='/list/list_215_1.htm' title="SQLite">SQLite</a></li>
<li><a href='/list/list_224_1.htm' title="PostgreSQL">PostgreSQL</a></li>
<li><a href='/list/list_239_1.htm' title="MongoDB">MongoDB</a></li>
<li><a href='/list/list_242_1.htm' title="Redis">Redis</a></li>
<li><a href='/list/list_105_1.htm' title="Access">Access</a></li>
<li><a href='/list/list_132_1.htm' title="数据库文摘">数据库文摘</a></li>
<li><a href='/list/list_133_1.htm' title="数据库其它">数据库其它</a></li>
</ul>
</div>
<div class="NavBar clearfix ptb10">
<div class="fl w690">
<div class="box mb15 mt10"><i class="icon"></i>您的位置：<a href='/'>首页</a> → <a href="/list/index_104.htm" title="数据库">数据库</a> → <a href="/list/list_112_1.htm" title="Mysql">Mysql</a> → 正文内容 MySQL随机</div>
</div>
<div class="fr w300"><div class="search">
<form action="http://so.jb51.net/cse/search" target="_blank">
    <input type="hidden" name="s" value="10520733385329581432">
    <input type="hidden" name="ie" value="gbk">
    <input type="text" name="q" class="key_input" placeholder="请输入关键词">
    <input type="submit" value="搜索" class="c_btn">
</form></div></div>
  </div>
</div>
<!--head End -->
<div class="main mb10 clearfix">
<div class="clearfix"><span id="tonglan1" class="jbTestPos"></span></div>
</div>

<!--content Star -->
<div id="contents">
 <div class="main clearfix">
      <div class="w690 fl">
      <div class="article-content border">
      <div class="title">
            <h1 class="YaHei">MySQL查询随机数据的4种方法和性能对比</h1>
            <p>作者：  字体：[<a href="javascript:turnbig()">增加</a> <a href="javascript:turnsmall()">减小</a>] 类型：转载 时间：2014-04-08<a href="#comments"> 我要评论</a></p>
        </div>
        <div class="art_desc mt10"><div id="art_demo">从MySQL随机选取数据也是我们最常用的一种发发，其最简单的办法就是使用”ORDER BY RAND()”,本文介绍了包括ORDER BY RAND()的4种获取随机数据的方法，并分析了各自的优缺点。</div></div>
        <div class="lbd clearfix"><span id="art_up" class="jbTestPos"></span></div>
        <div id="content">
下面从以下四种方案分析各自的优缺点。<BR><STRONG>方案一：<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="9585" class="copybut" id="copybut9585" onclick="doCopy('code9585')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code9585">SELECT * FROM `table` ORDER BY RAND() LIMIT 0,1;</div><BR>这种方法的问题就是非常慢。原因是因为MySQL会创建一张零时表来保存所有的结果集，然后给每个结果一个随机索引，然后再排序并返回。<BR>有几个方法可以让它快起来。<BR>基本思想就是先获取一个随机数，然后使用这个随机数来获取指定的行。<BR>由于所有的行都有一个唯一的id，我们将只取最小和最大id之间的随机数，然后获取id为这个数行。为了让这个方法当id不连续时也能有效，我们在最终的查询里使用”&gt;=”代替”=”。<BR>为了获取整张表的最小和最大id，我们使用MAX()和MIN()两个聚合函数。这两个方法会返回指定组里的最大和最小值。在这里这个组就是我们表里的所有id字段值。<BR><STRONG>方案二：<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="1299" class="copybut" id="copybut1299" onclick="doCopy('code1299')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code1299">&lt;?php<BR>$range_result = mysql_query( " SELECT MAX(`id`) AS max_id , MIN(`id`) AS min_id FROM `table` ");<BR>$range_row = mysql_fetch_object( $range_result );<BR>$random = mt_rand( $range_row-&gt;min_id , $range_row-&gt;max_id );<BR>$result = mysql_query( " SELECT * FROM `table` WHERE `id` &gt;= $random LIMIT 0,1 ");</div><BR>就像我们刚才提到的，这个方法会用唯一的id值限制表的每一行。那么，如果不是这样情况怎么办？<BR>下面这个方案是使用了MySQL的LIMIT子句。LIMIT接收两个参数值。第一个参数指定了返回结果第一行的偏移量，第二个参数指定了返回结果的最大行数。偏移量指定第一行是0而不是1。<BR>为了计算第一行的偏移量，我们使用MySQL的RAND()方法从0到1之间生成一个随机数。然后我们把这个数字跟我们用COUNT()方法获取倒的表记录数相乘。由于LIMIT的参数必须是int型而不能是float，我们使用FLOOR()来处理结果。FLOOR()会计算小于表达式的最大值。最终的代码就是这样：<BR><STRONG>方案三：<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="79272" class="copybut" id="copybut79272" onclick="doCopy('code79272')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code79272">&lt;?php<BR>$offset_result = mysql_query( " SELECT FLOOR(RAND() * COUNT(*)) AS `offset` FROM `table` ");<BR>$offset_row = mysql_fetch_object( $offset_result );<BR>$offset = $offset_row-&gt;offset;<BR>$result = mysql_query( " SELECT * FROM `table` LIMIT $offset, 1 " );</div><BR>在MySQL 4.1以后我们可以使用子子查询合并上面两个方法：<BR><STRONG>方案四：<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="18793" class="copybut" id="copybut18793" onclick="doCopy('code18793')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code18793">SELECT * FROM `table` WHERE id &gt;= (SELECT FLOOR( MAX(id) * RAND()) FROM `table` ) ORDER BY id LIMIT 1;</div><BR>这个方案跟方案二有同样的弱点，只对有唯一id值的表有效。<BR>记住我们最初寻找选择随机行的替代方法的原因，速度！所以，这些方案的在执行时间上的比较会怎么样？我不会指出硬件和软件配置或者给出具体的数字。大概的结果是这样的：<BR>最慢的是解决方案一（我们假定它用了100%的时间）。<BR>方案二用了79%<BR>方案三 C 13%<BR>方案四 C 16%<BR>so, 方案三胜出！

</div><!--endmain-->
<div class="art_xg">
<h4>您可能感兴趣的文章:</h4><ul><li><a href="/article/92375.htm" title="MySQL的指定范围随机数函数rand()的使用技巧" target="_blank">MySQL的指定范围随机数函数rand()的使用技巧</a></li><li><a href="/article/11263.htm" title="从MySQL数据库表中取出随机数据的代码" target="_blank">从MySQL数据库表中取出随机数据的代码</a></li><li><a href="/article/42882.htm" title="mysql获取随机数据的方法" target="_blank">mysql获取随机数据的方法</a></li><li><a href="/article/42770.htm" title="mysql优化取随机数据慢的方法" target="_blank">mysql优化取随机数据慢的方法</a></li><li><a href="/article/92374.htm" title="mysql 某字段插入随机数(插入随机数到MySQL数据库)" target="_blank">mysql 某字段插入随机数(插入随机数到MySQL数据库)</a></li><li><a href="/article/100886.htm" title="详解MySQL中concat函数的用法（连接字符串）" target="_blank">详解MySQL中concat函数的用法（连接字符串）</a></li><li><a href="/article/80865.htm" title="Python连接MySQL并使用fetchall()方法过滤特殊字符" target="_blank">Python连接MySQL并使用fetchall()方法过滤特殊字符</a></li><li><a href="/article/52646.htm" title="sqlserver、mysql获取连接字符串步骤" target="_blank">sqlserver、mysql获取连接字符串步骤</a></li><li><a href="/article/25870.htm" title="PHP 设置MySQL连接字符集的方法" target="_blank">PHP 设置MySQL连接字符集的方法</a></li><li><a href="/article/114097.htm" title="MySQL产生随机数并连接字符串的方法示例" target="_blank">MySQL产生随机数并连接字符串的方法示例</a></li></ul>
</div>
<div class="lbd clearfix">
<span id="art_down" class="jbTestPos"></span>
</div>
<div id="shoucang"></div>
<div class="tags mt10">
<strong>Tags：</strong><a href="http://common.jb51.net/tag/MySQL/1.htm" target="_blank" title="搜索关于MySQL的文章">MySQL</a> <a href="http://common.jb51.net/tag/MySQL%E9%9A%8F%E6%9C%BA/1.htm" target="_blank" title="搜索关于MySQL随机的文章">MySQL随机</a> 
</div>
<DIV class="relatedarticle clearfix mt5">
<H2>相关文章</H2>
<ul><li><span>2015-04-04</span><a href="/article/64823.htm" title="MySQL数据库中的安全设置方案" target="_blank">MySQL数据库中的安全设置方案</a></li><li><span>2016-06-06</span><a href="/article/86326.htm" title="分页技术原理与实现之分页的意义及方法（一）" target="_blank">分页技术原理与实现之分页的意义及方法（一）</a></li><li><span>2013-03-03</span><a href="/article/34693.htm" title="C# Mysql 查询 Rownum的解决方法" target="_blank">C# Mysql 查询 Rownum的解决方法</a></li><li><span>2017-07-07</span><a href="/article/117817.htm" title="MySQL去重的方法整理" target="_blank">MySQL去重的方法整理</a></li><li><span>2017-11-11</span><a href="/article/129324.htm" title="MySQL Community Server压缩包安装配置方法" target="_blank">MySQL Community Server压缩包安装配置方法</a></li><li><span>2014-08-08</span><a href="/article/53595.htm" title="MySQL导出所有Index和约束的方法" target="_blank">MySQL导出所有Index和约束的方法</a></li><li><span>2016-12-12</span><a href="/article/100284.htm" title="MySQL 5.7.9 服务无法启动-“NET HELPMSG 3534”的解决方法" target="_blank">MySQL 5.7.9 服务无法启动-“NET HELPMSG 3534”的解决方法</a></li><li><span>2017-03-03</span><a href="/article/109603.htm" title="完美解决mysql启动后随即关闭的问题（ibdata1文件损坏导致）" target="_blank">完美解决mysql启动后随即关闭的问题（ibdata1文件损坏导致）</a></li><li><span>2014-07-07</span><a href="/article/53026.htm" title="MySQL 启动报错:File ./mysql-bin.index not found (Errcode: 13)" target="_blank">MySQL 启动报错:File ./mysql-bin.index not found (Errcode: 13</a></li><li><span>2015-11-11</span><a href="/article/74613.htm" title="Linux下实现MySQL数据备份和恢复的命令使用全攻略" target="_blank">Linux下实现MySQL数据备份和恢复的命令使用全攻略</a></li></ul>
</DIV>
<div class="lbd clearfix mt5">
<span id="art_down2" class="jbTestPos"></span>
</div>
<a href="#comments"></a>
<div id="comments">
<H2>最新评论</H2>
<div class="pd5"><div id="SOHUCS" sid="art_48801"></div></div>
</div>
      </div><!--endborder-->
      </div><!--end fl-->
      
<div class="w300 fr">
<div class="r300 clearfix"><span id="side_up" class="jbTestPos"></span></div>
<DIV class="tabTitleBar mt10 bgf borderTblue">
<DIV class="borderTnone pb10 YaHei">
<H4 class="blue">大家感兴趣的内容</H4>
<UL class="newsList newList-in">
<li><EM class="no1">1</EM><a href="/article/23876.htm" title="mysql安装图解 mysql图文安装教程(详细说明)" target="_blank">mysql安装图解 mysql图文安装教程</a></li><li><EM class="no2">2</EM><a href="/article/26505.htm" title="Can''t connect to MySQL server on localhost (10061)解决方法" target="_blank">Can''t connect to MySQL server</a></li><li><EM class="no3">3</EM><a href="/article/39188.htm" title="windows下MySQL5.6版本安装及配置过程附有截图和详细说明" target="_blank">windows下MySQL5.6版本安装及配置</a></li><li><EM class="no4">4</EM><a href="/article/27458.htm" title="Mysql字符串截取函数SUBSTRING的用法说明" target="_blank">Mysql字符串截取函数SUBSTRING的</a></li><li><EM class="no5">5</EM><a href="/article/31850.htm" title="MySQL创建用户与授权方法" target="_blank">MySQL创建用户与授权方法</a></li><li><EM class="no6">6</EM><a href="/article/23966.htm" title="MySQL日期数据类型、时间类型使用总结" target="_blank">MySQL日期数据类型、时间类型使用</a></li><li><EM class="no7">7</EM><a href="/article/39454.htm" title="MySQL――修改root密码的4种方法(以windows为例)" target="_blank">MySQL――修改root密码的4种方法</a></li><li><EM class="no8">8</EM><a href="/article/28680.htm" title="MySQL 的CASE WHEN 语句使用说明" target="_blank">MySQL 的CASE WHEN 语句使用说明</a></li><li><EM class="no9">9</EM><a href="/article/15386.htm" title="超详细mysql left join,right join,inner join用法分析" target="_blank">超详细mysql left join,right jo</a></li><li><EM class="no10">10</EM><a href="/article/53344.htm" title="mysql update语句的用法详解" target="_blank">mysql update语句的用法详解</a></li>
</UL>
</DIV>
</DIV>
<div class="r300 clearfix mt10"><span id="idctu" class="jbTestPos"></span></div>
<DIV class="tabTitleBar mt10 bgf borderTblue">
<DIV class="borderTnone pb10 YaHei">
<H4 class="blue">最近更新的内容</H4>
<UL class="newsListA">
<ul><li><a href="/article/59552.htm" title="MySQL触发器使用详解" target="_blank">MySQL触发器使用详解</a></li><li><a href="/article/34753.htm" title="查询mysql中执行效率低的sql语句的方法" target="_blank">查询mysql中执行效率低的sql语句的方法</a></li><li><a href="/article/50059.htm" title="MySQL的CASE WHEN语句的几个使用实例" target="_blank">MySQL的CASE WHEN语句的几个使用实例</a></li><li><a href="/article/38315.htm" title="如何获取SqlServer2005表结构(字段,主键,外键,递增,描述)" target="_blank">如何获取SqlServer2005表结构(字段,主键,</a></li><li><a href="/article/20371.htm" title="通过HSODBC访问mysql的实现步骤" target="_blank">通过HSODBC访问mysql的实现步骤</a></li><li><a href="/article/18616.htm" title="MYSQL 没有完全卸载将导致其安装不成功" target="_blank">MYSQL 没有完全卸载将导致其安装不成功</a></li><li><a href="/article/113067.htm" title="Linux下MySQL5.7.18二进制包安装教程（无默认配置文件my_default.cnf）" target="_blank">Linux下MySQL5.7.18二进制包安装教程（无</a></li><li><a href="/article/50455.htm" title="DOS命令行窗口mysql中文显示乱码问题解决方法" target="_blank">DOS命令行窗口mysql中文显示乱码问题解决</a></li><li><a href="/article/103366.htm" title="MySQL按照汉字的拼音排序简单实例" target="_blank">MySQL按照汉字的拼音排序简单实例</a></li><li><a href="/article/85311.htm" title="MySQL安全策略(MySQL安全注意事项)" target="_blank">MySQL安全策略(MySQL安全注意事项)</a></li></ul>
</UL>
</DIV>
</DIV>   
<div class="r300 clearfix mt10"><span id="idctu1" class="jbTestPos"></span></div>
<DIV class="tabTitleBar mt10 bgf borderTblue">
<DIV class="borderTnone pb10 YaHei">
<H4 class="blue">常用在线小工具</H4>
<ul class="newsListA"><span id="bctools" class="jbTestPos"></span></ul>
</DIV>
</DIV>
<div class="r300 clearfix mt10" id="idctu2"><span id="idctu2" class="jbTestPos"></span></div>
<div class="mt10 rFixedBox">
<span id="r_2" class="jbTestPos"></span>
</div>
      
      
      </div><!--end fr-->
      </div>
</div><!--end content-->
<div id="footer">
<div class="main clearfix">
<p>
<a href="http://www.jb51.net/about.htm" target="_blank">关于我们</a> - 
<a href="http://www.jb51.net/support.htm" target="_blank">广告合作</a> - 
<a href="http://www.jb51.net/linkus.htm" target="_blank">联系我们</a> -  
<a href="http://www.jb51.net/sm.htm" target="_blank">免责声明</a> -  
<a href="http://www.jb51.net/sitemap.htm" target="_blank">网站地图</a> - 
<a href="tencent://message/?uin=461478385&Site=http://www.jb51.net" target="_blank">投诉建议</a> - 
<a href="http://www.jb51.net/up.htm" target="_blank">在线投稿</a>
</p>
<p>&copy;CopyRight 2006-2017 JB51.Net Inc All Rights Reserved. 脚本之家 版权所有</p>
</div>
</div><!--end footer-->
<link type="text/css" rel="stylesheet" href="/jslib/syntaxhighlighter/styles/shCore.css" />
<link type="text/css" rel="Stylesheet" href="/jslib/syntaxhighlighter/styles/shThemeDefault.css" />
<script type="text/javascript" src="/jslib/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="/jslib/syntaxhighlighter/scripts/shAutoloader.js"></script>
<script type="text/javascript">
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
if (top.location != self.location)top.location=self.location;
$(function(){
	$('#content').find('img').each(function(){
        var img = this;
        if (img.width >= 650){
            img.style.width = "650px";
            img.style.height = "auto";
            //$(img).removeAttr('height');
            var aTag = document.createElement('a');
            aTag.href = img.src;
			aTag.target="_blank";
            $(aTag).addClass('bPic')
            .insertAfter(img).append(img)
          }
    });
	$(window).scroll(function()
    {	
    	//rFixedBox跟随滚动
    	var h = $(window).height();
        var top = $(window).scrollTop();
    	var rFixedBox = $('.rFixedBox').prev().offset();
        var fixedTop = rFixedBox.top;
		
        if(top>=fixedTop+344)
        {
			var h1 = parseInt($('#content').children('.main').height());
			if(parseInt(top) + 340 < h1){
				$('.rFixedBox').css({'position':'fixed','top': 0});
			}else{
				$('.rFixedBox').css({'position':'absolute','top': h1-510});
			}
        }
        else
        {
            $('.rFixedBox').css({'position':'static', 'top':0});   
        }	
       /* return true;*/
    });
/*$(document).ready(function() {
  $("#content img").unveil();
});	*/
SyntaxHighlighter.autoloader(
	'applescript			/jslib/syntaxhighlighter/scripts/shBrushAppleScript.js',
	'actionscript3 as3		/jslib/syntaxhighlighter/scripts/shBrushAS3.js',
	'bash shell				/jslib/syntaxhighlighter/scripts/shBrushBash.js',
	'coldfusion cf			/jslib/syntaxhighlighter/scripts/shBrushColdFusion.js',
	'cpp c					/jslib/syntaxhighlighter/scripts/shBrushCpp.js',
	'obj-c objc				/jslib/syntaxhighlighter/scripts/shBrushObjC.js',
	'c# c-sharp csharp		/jslib/syntaxhighlighter/scripts/shBrushCSharp.js',
	'css					/jslib/syntaxhighlighter/scripts/shBrushCss.js',
	'delphi pascal			/jslib/syntaxhighlighter/scripts/shBrushDelphi.js',
	'diff patch pas			/jslib/syntaxhighlighter/scripts/shBrushDiff.js',
	'erl erlang				/jslib/syntaxhighlighter/scripts/shBrushErlang.js',
	'groovy					/jslib/syntaxhighlighter/scripts/shBrushGroovy.js',
	'haxe hx				/jslib/syntaxhighlighter/scripts/shBrushHaxe.js',
	'java					/jslib/syntaxhighlighter/scripts/shBrushJava.js',
	'jfx javafx				/jslib/syntaxhighlighter/scripts/shBrushJavaFX.js',
	'js jscript javascript	/jslib/syntaxhighlighter/scripts/shBrushJScript.js',
	'perl pl				/jslib/syntaxhighlighter/scripts/shBrushPerl.js',
	'php					/jslib/syntaxhighlighter/scripts/shBrushPhp.js',
	'text plain				/jslib/syntaxhighlighter/scripts/shBrushPlain.js',
	'py python				/jslib/syntaxhighlighter/scripts/shBrushPython.js',
	'ruby rails ror rb		/jslib/syntaxhighlighter/scripts/shBrushRuby.js',
	'scala					/jslib/syntaxhighlighter/scripts/shBrushScala.js',
	'sql					/jslib/syntaxhighlighter/scripts/shBrushSql.js',
	'vb vbnet				/jslib/syntaxhighlighter/scripts/shBrushVb.js',
	'ps powershell			/jslib/syntaxhighlighter/scripts/shBrushPowerShell.js',
	'xml xhtml xslt html	/jslib/syntaxhighlighter/scripts/shBrushXml.js'
);
SyntaxHighlighter.all();
});
var ourl="";
</script>
<script type="text/javascript" src='http://icws.jb51.net/good/arct.js'></script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<script>jbLoader();</script><script class="closetag">jbLoader(true);</script>
<div id="tongji">
<script type="text/javascript" src="http://tongji.jbzj.com/tongji/tongji.js"></script>
<script type="text/javascript">
//tu+
var cpro_id = "u1893014";
document.write('<scri'+'pt src="http://cpro.baidustatic.com/cpro/ui/i.js" type="text/javascript"></s'+'cript>');
</script>
<script charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/changyan.js" ></script>
<script type="text/javascript">
window.changyan.api.config({
appid: 'cyrHH3dwi',
conf: 'prod_1dc5dc80970106099d43fe242b7465fc'
});
</script>
</div> 
<script type="text/javascript" src="http://www.jb51.net/pl.asp?id=48801"></script>
</body>
</html>
<!-- published at 2017/12/15 8:40:32By dxycms qq:461478385  -->
