{"commentCount":6,"commentsHtml":"\u003cdiv id=\"comments_pager_top\"\u003e\u003c/div\u003e\r\n\u003c!--done--\u003e\r\n\u003cbr\u003e\r\n\u003cdiv class=\"feedback_area_title\"\u003e评论\u003c/div\u003e\r\n\u003cdiv class=\"feedbackNoItems\"\u003e\u003c/div\u003e\r\n\t\r\n\r\n\t\t\u003cdiv class=\"feedbackItem\"\u003e\r\n\t\t\t\u003cdiv class = \"feedbackListSubtitle\"\u003e\r\n\t\t\t\t\u003cdiv class=\"feedbackManage\"\u003e\r\n\t\t\t\t\t\u0026nbsp;\u0026nbsp;\u003cspan class=\"comment_actions\"\u003e\u003c/span\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003ca href=\"#2645040\" class=\"layer\"\u003e#1楼\u003c/a\u003e\u003ca name=\"2645040\" id=\"comment_anchor_2645040\"\u003e\u003c/a\u003e \u003cspan class=\"comment_date\"\u003e2013-03-28 19:18\u003c/span\u003e | \u003ca id=\"a_comment_author_2645040\" href=\"http://www.cnblogs.com/sass/\" target=\"_blank\"\u003e新阿伦\u003c/a\u003e \u003ca href=\"http://msg.cnblogs.com/send/%E6%96%B0%E9%98%BF%E4%BC%A6\" title=\"发送站内短消息\" class=\"sendMsg2This\"\u003e\u0026nbsp;\u003c/a\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\t\u003cdiv class=\"feedbackCon\"\u003e\r\n\t\t\t\t\u003cdiv id=\"comment_body_2645040\" class=\"blog_comment_body\"\u003e还不错，要是能改为显示数字的就更好了，最近在写　超级大乐透　算号程序，为了有好的效果，很想有数字在选号时在那闪动，最后确定下来。不知道怎么实现。\u003c/div\u003e\u003cdiv class=\"comment_vote\"\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_digg\" onclick=\"return voteComment(2645040,\u0027Digg\u0027,this)\"\u003e支持(0)\u003c/a\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_bury\" class=\"comment_bury\" onclick=\"return voteComment(2645040,\u0027Bury\u0027,this)\"\u003e反对(0)\u003c/a\u003e\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\r\n\t\t\u003cdiv class=\"feedbackItem\"\u003e\r\n\t\t\t\u003cdiv class = \"feedbackListSubtitle\"\u003e\r\n\t\t\t\t\u003cdiv class=\"feedbackManage\"\u003e\r\n\t\t\t\t\t\u0026nbsp;\u0026nbsp;\u003cspan class=\"comment_actions\"\u003e\u003c/span\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003ca href=\"#2646925\" class=\"layer\"\u003e#2楼\u003c/a\u003e\u003ca name=\"2646925\" id=\"comment_anchor_2646925\"\u003e\u003c/a\u003e[\u003cspan class=\"louzhu\"\u003e楼主\u003c/span\u003e] \u003cspan class=\"comment_date\"\u003e2013-04-01 00:38\u003c/span\u003e | \u003ca id=\"a_comment_author_2646925\" href=\"http://www.cnblogs.com/Jimmy-pan/\" target=\"_blank\"\u003eJimmy.pan\u003c/a\u003e \u003ca href=\"http://msg.cnblogs.com/send/Jimmy.pan\" title=\"发送站内短消息\" class=\"sendMsg2This\"\u003e\u0026nbsp;\u003c/a\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\t\u003cdiv class=\"feedbackCon\"\u003e\r\n\t\t\t\t\u003cdiv id=\"comment_body_2646925\" class=\"blog_comment_body\"\u003e\u003ca href=\"#2645040\" title=\"查看所回复的评论\" onclick=\u0027commentManager.renderComments(0,50,2645040);\u0027\u003e@\u003c/a\u003e\n新阿伦\u003cbr/\u003e显示数字和显示点数都是一样的道理的，都只需要确定闪动的时间或者次数，定时调用，调用的过程中就是一次次的重画，这样子就能实现闪动了。闪动的过程中的数据我们不保存下去，只需要保存最后一次的随机数就行了。像上面的只需要把画点的过程改为写文本的过程就OK的了。\u003cdiv class=\u0027cnblogs_Highlighter\u0027\u003e\u003cpre class=\u0027gutter:true;brush:html\u0027\u003e\n//画骰子的点\n    function draw(dice,ran,drowArray){\n        ctx.fillStyle = \u0026#39;red\u0026#39;;\n        for(var i = 0;i\u0026lt;=ran;i++){        \n            var array = drowArray[i];        \n            ctx.beginPath();\n            if(ran==0)\n            {\n                //alert(drowArray[0]);\n                ctx.arc(drowArray[0]+dice[0],drowArray[1]+dice[1],5,0,Math.PI*2,true);\n            }\n            else\n            {\n                \n                ctx.arc(array[0]+dice[0],array[1]+dice[1],5,0,Math.PI*2,true);\n            }\n            ctx.closePath();\n            ctx.fill();\n        }\n    }\n\u003c/pre\u003e\u003c/div\u003e\u003cbr/\u003e这一段把画点的过程修改为写文本的过程就行了\u003c/div\u003e\u003cdiv class=\"comment_vote\"\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_digg\" onclick=\"return voteComment(2646925,\u0027Digg\u0027,this)\"\u003e支持(0)\u003c/a\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_bury\" class=\"comment_bury\" onclick=\"return voteComment(2646925,\u0027Bury\u0027,this)\"\u003e反对(0)\u003c/a\u003e\u003c/div\u003e\u003cspan id=\"comment_2646925_avatar\" style=\"display:none;\"\u003ehttp://pic.cnblogs.com/face/318663/20150130111908.png\u003c/span\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\r\n\t\t\u003cdiv class=\"feedbackItem\"\u003e\r\n\t\t\t\u003cdiv class = \"feedbackListSubtitle\"\u003e\r\n\t\t\t\t\u003cdiv class=\"feedbackManage\"\u003e\r\n\t\t\t\t\t\u0026nbsp;\u0026nbsp;\u003cspan class=\"comment_actions\"\u003e\u003c/span\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003ca href=\"#2647156\" class=\"layer\"\u003e#3楼\u003c/a\u003e\u003ca name=\"2647156\" id=\"comment_anchor_2647156\"\u003e\u003c/a\u003e \u003cspan class=\"comment_date\"\u003e2013-04-01 11:30\u003c/span\u003e | \u003ca id=\"a_comment_author_2647156\" href=\"http://www.cnblogs.com/sass/\" target=\"_blank\"\u003e新阿伦\u003c/a\u003e \u003ca href=\"http://msg.cnblogs.com/send/%E6%96%B0%E9%98%BF%E4%BC%A6\" title=\"发送站内短消息\" class=\"sendMsg2This\"\u003e\u0026nbsp;\u003c/a\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\t\u003cdiv class=\"feedbackCon\"\u003e\r\n\t\t\t\t\u003cdiv id=\"comment_body_2647156\" class=\"blog_comment_body\"\u003e\u003ca href=\"#2646925\" title=\"查看所回复的评论\" onclick=\u0027commentManager.renderComments(0,50,2646925);\u0027\u003e@\u003c/a\u003e\nJimmy.pan\u003cbr/\u003e\u003cbr/\u003e如果会改为写文件的过程就不用发贴了。\u003c/div\u003e\u003cdiv class=\"comment_vote\"\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_digg\" onclick=\"return voteComment(2647156,\u0027Digg\u0027,this)\"\u003e支持(0)\u003c/a\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_bury\" class=\"comment_bury\" onclick=\"return voteComment(2647156,\u0027Bury\u0027,this)\"\u003e反对(0)\u003c/a\u003e\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\r\n\t\t\u003cdiv class=\"feedbackItem\"\u003e\r\n\t\t\t\u003cdiv class = \"feedbackListSubtitle\"\u003e\r\n\t\t\t\t\u003cdiv class=\"feedbackManage\"\u003e\r\n\t\t\t\t\t\u0026nbsp;\u0026nbsp;\u003cspan class=\"comment_actions\"\u003e\u003c/span\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003ca href=\"#2647171\" class=\"layer\"\u003e#4楼\u003c/a\u003e\u003ca name=\"2647171\" id=\"comment_anchor_2647171\"\u003e\u003c/a\u003e[\u003cspan class=\"louzhu\"\u003e楼主\u003c/span\u003e] \u003cspan class=\"comment_date\"\u003e2013-04-01 11:41\u003c/span\u003e | \u003ca id=\"a_comment_author_2647171\" href=\"http://www.cnblogs.com/Jimmy-pan/\" target=\"_blank\"\u003eJimmy.pan\u003c/a\u003e \u003ca href=\"http://msg.cnblogs.com/send/Jimmy.pan\" title=\"发送站内短消息\" class=\"sendMsg2This\"\u003e\u0026nbsp;\u003c/a\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\t\u003cdiv class=\"feedbackCon\"\u003e\r\n\t\t\t\t\u003cdiv id=\"comment_body_2647171\" class=\"blog_comment_body\"\u003e\u003ca href=\"#2647156\" title=\"查看所回复的评论\" onclick=\u0027commentManager.renderComments(0,50,2647156);\u0027\u003e@\u003c/a\u003e\n新阿伦\u003cbr/\u003ectx.font=\u0026quot;30px Verdana\u0026quot;;\u003cbr/\u003e\t\tctx.fillText(ran,drowArray[0]+ dice[0],drowArray[1]+dice[1]);\u003cbr/\u003e就这样子就行了，只是写一个文本而已。确定坐标就OK\u003c/div\u003e\u003cdiv class=\"comment_vote\"\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_digg\" onclick=\"return voteComment(2647171,\u0027Digg\u0027,this)\"\u003e支持(0)\u003c/a\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_bury\" class=\"comment_bury\" onclick=\"return voteComment(2647171,\u0027Bury\u0027,this)\"\u003e反对(0)\u003c/a\u003e\u003c/div\u003e\u003cspan id=\"comment_2647171_avatar\" style=\"display:none;\"\u003ehttp://pic.cnblogs.com/face/318663/20150130111908.png\u003c/span\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\r\n\t\t\u003cdiv class=\"feedbackItem\"\u003e\r\n\t\t\t\u003cdiv class = \"feedbackListSubtitle\"\u003e\r\n\t\t\t\t\u003cdiv class=\"feedbackManage\"\u003e\r\n\t\t\t\t\t\u0026nbsp;\u0026nbsp;\u003cspan class=\"comment_actions\"\u003e\u003c/span\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003ca href=\"#2647205\" class=\"layer\"\u003e#5楼\u003c/a\u003e\u003ca name=\"2647205\" id=\"comment_anchor_2647205\"\u003e\u003c/a\u003e \u003cspan class=\"comment_date\"\u003e2013-04-01 12:14\u003c/span\u003e | \u003ca id=\"a_comment_author_2647205\" href=\"http://www.cnblogs.com/sass/\" target=\"_blank\"\u003e新阿伦\u003c/a\u003e \u003ca href=\"http://msg.cnblogs.com/send/%E6%96%B0%E9%98%BF%E4%BC%A6\" title=\"发送站内短消息\" class=\"sendMsg2This\"\u003e\u0026nbsp;\u003c/a\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\t\u003cdiv class=\"feedbackCon\"\u003e\r\n\t\t\t\t\u003cdiv id=\"comment_body_2647205\" class=\"blog_comment_body\"\u003e\u003ca href=\"#2647171\" title=\"查看所回复的评论\" onclick=\u0027commentManager.renderComments(0,50,2647171);\u0027\u003e@\u003c/a\u003e\nJimmy.pan\u003cbr/\u003e\u003cbr/\u003e谢谢你的回复，不过试了一下，似乎就只有一些0在闪而已，并不能实现我想要的，在一组数内显示\u003cbr/\u003e\u003cbr/\u003e\u003cbr/\u003e比如每位数字能在0-9之间闪....\u003c/div\u003e\u003cdiv class=\"comment_vote\"\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_digg\" onclick=\"return voteComment(2647205,\u0027Digg\u0027,this)\"\u003e支持(0)\u003c/a\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_bury\" class=\"comment_bury\" onclick=\"return voteComment(2647205,\u0027Bury\u0027,this)\"\u003e反对(0)\u003c/a\u003e\u003c/div\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\r\n\t\t\u003cdiv class=\"feedbackItem\"\u003e\r\n\t\t\t\u003cdiv class = \"feedbackListSubtitle\"\u003e\r\n\t\t\t\t\u003cdiv class=\"feedbackManage\"\u003e\r\n\t\t\t\t\t\u0026nbsp;\u0026nbsp;\u003cspan class=\"comment_actions\"\u003e\u003c/span\u003e\r\n\t\t\t\t\u003c/div\u003e\r\n\t\t\t\t\u003ca href=\"#2647213\" class=\"layer\"\u003e#6楼\u003c/a\u003e\u003ca name=\"2647213\" id=\"comment_anchor_2647213\"\u003e\u003c/a\u003e[\u003cspan class=\"louzhu\"\u003e楼主\u003c/span\u003e]\u003cspan id=\"comment-maxId\" style=\"display:none;\"\u003e2647213\u003c/span\u003e\u003cspan id=\"comment-maxDate\" style=\"display:none;\"\u003e2013/4/1 12:28:00\u003c/span\u003e \u003cspan class=\"comment_date\"\u003e2013-04-01 12:28\u003c/span\u003e | \u003ca id=\"a_comment_author_2647213\" href=\"http://www.cnblogs.com/Jimmy-pan/\" target=\"_blank\"\u003eJimmy.pan\u003c/a\u003e \u003ca href=\"http://msg.cnblogs.com/send/Jimmy.pan\" title=\"发送站内短消息\" class=\"sendMsg2This\"\u003e\u0026nbsp;\u003c/a\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\t\u003cdiv class=\"feedbackCon\"\u003e\r\n\t\t\t\t\u003cdiv id=\"comment_body_2647213\" class=\"blog_comment_body\"\u003e我把源码贴出给你看看吧，下面这个应该实现了你要的效果\u003cbr/\u003e\u003cdiv class=\u0027cnblogs_Highlighter\u0027\u003e\u003cpre class=\u0027gutter:true;collapse:true;brush:html\u0027\u003e\n\u0026lt;html\u0026gt;\n\t\u0026lt;head\u0026gt;\n\t\t\u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt;\n\t\t\u0026lt;title\u0026gt;大乐透游戏\u0026lt;/title\u0026gt;\n\t\t\u0026lt;style\u0026gt;\n\t\t\tbody{ text-align:center;}\n\t\t\t#can{ border:1px solid black;}\n\t\t\u0026lt;/style\u0026gt;\n\t\u0026lt;/head\u0026gt;\n\t\u0026lt;body\u0026gt;\n\t\t\u0026lt;canvas id=\u0026#39;can\u0026#39; width=\u0026#39;500px\u0026#39; height=\u0026#39;400px\u0026#39;\u0026gt;\u0026lt;/canvas\u0026gt;\n\t\t\u0026lt;br\u0026gt;\n\t\t\u0026lt;br\u0026gt;\n\t\t\u0026lt;input type=\u0026#39;button\u0026#39; id=\u0026#39;btnStart\u0026#39; value=\u0026#39;开始\u0026#39;\u0026gt;\n\t\u0026lt;/body\u0026gt;\n\u0026lt;/html\u0026gt;\n\n\u0026lt;script\u0026gt;\n\tvar maxRan = 9;\n\t//定时器变量\n\tvar tidck =null;\n\t//存放图片的容器\n\tvar can;\n\t//画布\n\tvar ctx;\n\t//每次的数的数组\n\tvar SumArray = [];\n\t//每次数的和\n\tvar ranSum = 0;\n\t//骰子变化次数\n\tvar count = 0;\n\t//数的坐标\n\tvar pointCoordinates = [20,20];\n\t//每个数的坐标\n\tvar diceCoordinates = [[40,10],[120,10],[180,10],[250,10],[330,10],[400,10]];/**/\n\twindow.onload = function(){\n\t\tcan = document.getElementById(\u0026#39;can\u0026#39;);\n\t\t\n\t\tctx = can.getContext(\u0026quot;2d\u0026quot;);\n\n\t\tloadCoordinates();\n\t\t/*初始化*/\n\t\tdocument.getElementById(\u0026#39;btnStart\u0026#39;).onclick = function(){\n\t\t\tif(document.getElementById(\u0026#39;btnStart\u0026#39;).value==\u0026#39;开始\u0026#39;){\n\t\t\t\tdocument.getElementById(\u0026#39;btnStart\u0026#39;).value=\u0026#39;停止\u0026#39;;\t\t\t\t\n\t\t\t\tif(SumArray.length\u0026lt;=8){\n\t\t\t\t\t//sum++;\n\t\t\t\t\tcount = 0;\t\t\n\t\t\t\t\ttidck = setInterval(drawCoordinates,100);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(config(\u0026quot;摇的次数不能大于8次,是否清空重新摇？\u0026quot;)){\n\t\t\t\t\t\t//sum = 0;\n\t\t\t\t\t\tcount = 0;\n\t\t\t\t\t\tSumArray.splice(0,SumArray.length);\n\t\t\t\t\t\tloadCoordinates();\n\t\t\t\t\t\ttidck = setInterval(drawCoordinates,100);\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\telse if(document.getElementById(\u0026#39;btnStart\u0026#39;).value==\u0026#39;停止\u0026#39;){\n\t\t\tdocument.getElementById(\u0026#39;btnStart\u0026#39;).value=\u0026#39;开始\u0026#39;;\n\t\t\twindow.clearInterval(tidck);\n\t\t\t//将每次的值放进数组\n\t\t\tSumArray.push(ranSum);\t\t\n\t\t}\t\t\t\n\t\t};\n\t}\n\t//初始化\n\tfunction loadCoordinates(){\n\t\tctx.clearRect(0,0,can.width,can.height);\n\t\tfor(var i=0;i\u0026lt;diceCoordinates.length;i++){\n\t\t\tctx.font=\u0026quot;30px Verdana\u0026quot;;\n\t\t\tctx.fillText(0,diceCoordinates[i][0]+ 20,diceCoordinates[i][1]+20);\n\t\t}\n\t}\n\t//开始摇\n\tfunction drawCoordinates()\n\t{\n\t\t//执行一定次数后放慢速度(使用修改定时执行的时间来达到效果)\n\t\tif(count == 30){\n\t\t\t//清除定时执行\n\t\t\twindow.clearInterval(tidck);\n\t\t\t//给定时执行赋新的时间\n\t\t\ttidck = setInterval(drawCoordinates,200);\n\t\t}\n\t\telse if(count == 45){\n\t\t\twindow.clearInterval(tidck);\n\t\t\ttidck = setInterval(drawCoordinates,500);\n\t\t}\n\t\telse if(count == 48){\t\n\t\t\twindow.clearInterval(tidck);\n\t\t\ttidck = setInterval(drawCoordinates,800);\n\t\t}\n\t\telse if(count \u0026gt;= 50){\t\n\t\t\twindow.clearInterval(tidck);\n\t\t\t//将每次的值放进数组\n\t\t\tSumArray.push(ranSum);\t\t\t\n\t\t\t//drawText(ranSum);\n\t\t}\n\t\telse{\n\t\t\t//每次的时候先把上一次的点数清零\n\t\t\tranSum = 0;\n\t\t\t//清理画布\n\t\t\tctx.clearRect(0,0,can.width,60);\n\t\t\tfor(var i=0;i\u0026lt;diceCoordinates.length;i++){\n\t\t\t\t\n\t\t\t\t//获取随机数\n\t\t\t\tvar ran =  Math.floor(Math.random()*maxRan);\t\t\t\t\n\t\t\t\tranSum+=ran+1;\n\t\t\t\tdrawRanText(diceCoordinates[i],ran+1,pointCoordinates);\n\t\t\t}\t\t\t\n\t\t}\n\tcount++;\t\n\t}\n\t\n\tfunction drawRanText(dice,ran,drowArray){\n\t\tctx.font=\u0026quot;30px Verdana\u0026quot;;\n\t\tctx.fillText(ran,drowArray[0]+ dice[0],drowArray[1]+dice[1]);\n\t}\n\u0026lt;/script\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"comment_vote\"\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_digg\" onclick=\"return voteComment(2647213,\u0027Digg\u0027,this)\"\u003e支持(0)\u003c/a\u003e\u003ca href=\"javascript:void(0);\" class=\"comment_bury\" class=\"comment_bury\" onclick=\"return voteComment(2647213,\u0027Bury\u0027,this)\"\u003e反对(0)\u003c/a\u003e\u003c/div\u003e\u003cspan id=\"comment_2647213_avatar\" style=\"display:none;\"\u003ehttp://pic.cnblogs.com/face/318663/20150130111908.png\u003c/span\u003e\r\n\t\t\t\u003c/div\u003e\r\n\t\t\u003c/div\u003e\r\n\t\u003cdiv id=\"comments_pager_bottom\"\u003e\u003c/div\u003e"}